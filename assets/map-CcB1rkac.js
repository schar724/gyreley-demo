import{g as ee,R as v,r as s,a as k}from"./vendor-BRGH1Yg5.js";var te=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var o,r,i;if(Array.isArray(e)){if(o=e.length,o!=n.length)return!1;for(r=o;r--!==0;)if(!t(e[r],n[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),o=i.length,o!==Object.keys(n).length)return!1;for(r=o;r--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[r]))return!1;for(r=o;r--!==0;){var a=i[r];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n};const ne=ee(te);function M(){return M=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)({}).hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},M.apply(null,arguments)}function R(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.includes(o))continue;n[o]=t[o]}return n}function oe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function re(t){var e=oe(t,"string");return typeof e=="symbol"?e:e+""}const S={NOT_LOADED:"NOT_LOADED",LOADING:"LOADING",LOADED:"LOADED",FAILED:"FAILED",AUTH_FAILURE:"AUTH_FAILURE"},ie="https://maps.googleapis.com/maps/api/js";class D{static async load(e,n){var o;const r=e.libraries?e.libraries.split(","):[],i=this.serializeParams(e);this.listeners.push(n),(o=window.google)!=null&&(o=o.maps)!=null&&o.importLibrary?(this.serializedApiParams||(this.loadingStatus=S.LOADED),this.notifyLoadingStatusListeners()):(this.serializedApiParams=i,this.initImportLibrary(e)),this.serializedApiParams&&this.serializedApiParams!==i&&console.warn("[google-maps-api-loader] The maps API has already been loaded with different parameters and will not be loaded again. Refresh the page for new values to have effect.");const a=["maps",...r];await Promise.all(a.map(l=>google.maps.importLibrary(l)))}static serializeParams(e){return[e.v,e.key,e.language,e.region,e.authReferrerPolicy,e.solutionChannel].join("/")}static initImportLibrary(e){if(window.google||(window.google={}),window.google.maps||(window.google.maps={}),window.google.maps.importLibrary){console.error("[google-maps-api-loader-internal]: initImportLibrary must only be called once");return}let n=null;const o=()=>n||(n=new Promise((r,i)=>{var a;const l=document.createElement("script"),d=new URLSearchParams;for(const[f,u]of Object.entries(e)){const h=f.replace(/[A-Z]/g,m=>"_"+m[0].toLowerCase());d.set(h,String(u))}d.set("loading","async"),d.set("callback","__googleMapsCallback__"),l.async=!0,l.src=ie+"?"+d.toString(),l.nonce=((a=document.querySelector("script[nonce]"))==null?void 0:a.nonce)||"",l.onerror=()=>{this.loadingStatus=S.FAILED,this.notifyLoadingStatusListeners(),i(new Error("The Google Maps JavaScript API could not load."))},window.__googleMapsCallback__=()=>{this.loadingStatus=S.LOADED,this.notifyLoadingStatusListeners(),r()},window.gm_authFailure=()=>{this.loadingStatus=S.AUTH_FAILURE,this.notifyLoadingStatusListeners()},this.loadingStatus=S.LOADING,this.notifyLoadingStatusListeners(),document.head.append(l)}),n);google.maps.importLibrary=r=>o().then(()=>google.maps.importLibrary(r))}static notifyLoadingStatusListeners(){for(const e of this.listeners)e(this.loadingStatus)}}D.loadingStatus=S.NOT_LOADED;D.serializedApiParams=void 0;D.listeners=[];const se=["onLoad","onError","apiKey","version","libraries"],ae=["children"],le="GMP_visgl_rgmlibrary_v1_default",x=v.createContext(null);function ce(){const[t,e]=s.useState({});return{mapInstances:t,addMapInstance:(i,a="default")=>{e(l=>M({},l,{[a]:i}))},removeMapInstance:(i="default")=>{e(a=>R(a,[i].map(re)))},clearMapInstances:()=>{e({})}}}function ue(t){const{onLoad:e,onError:n,apiKey:o,version:r,libraries:i=[]}=t,a=R(t,se),[l,d]=s.useState(D.loadingStatus),[f,u]=s.useReducer((c,g)=>c[g.name]?c:M({},c,{[g.name]:g.value}),{}),h=s.useMemo(()=>i==null?void 0:i.join(","),[i]),m=s.useMemo(()=>JSON.stringify(M({apiKey:o,version:r},a)),[o,r,a]),p=s.useCallback(async c=>{var g;if(f[c])return f[c];if(!((g=google)!=null&&(g=g.maps)!=null&&g.importLibrary))throw new Error("[api-provider-internal] importLibrary was called before google.maps.importLibrary was defined.");const I=await window.google.maps.importLibrary(c);return u({name:c,value:I}),I},[f]);return s.useEffect(()=>{(async()=>{try{const c=M({key:o},a);r&&(c.v=r),(h==null?void 0:h.length)>0&&(c.libraries=h),(c.channel===void 0||c.channel<0||c.channel>999)&&delete c.channel,c.solutionChannel===void 0?c.solutionChannel=le:c.solutionChannel===""&&delete c.solutionChannel,await D.load(c,g=>d(g));for(const g of["core","maps",...i])await p(g);e&&e()}catch(c){n?n(c):console.error("<ApiProvider> failed to load the Google Maps JavaScript API",c)}})()},[o,h,m]),{status:l,loadedLibraries:f,importLibrary:p}}const Ke=t=>{const{children:e}=t,n=R(t,ae),{mapInstances:o,addMapInstance:r,removeMapInstance:i,clearMapInstances:a}=ce(),{status:l,loadedLibraries:d,importLibrary:f}=ue(n),u=s.useMemo(()=>({mapInstances:o,addMapInstance:r,removeMapInstance:i,clearMapInstances:a,status:l,loadedLibraries:d,importLibrary:f}),[o,r,i,a,l,d,f]);return v.createElement(x.Provider,{value:u},e)};function de(t,e){for(const n of pe){const o=e[n],r=$[n];s.useEffect(()=>{if(!t||!o)return;const i=google.maps.event.addListener(t,r,a=>{o(fe(r,t,a))});return()=>i.remove()},[t,r,o])}}function fe(t,e,n){const o={type:t,map:e,detail:{},stoppable:!1,stop:()=>{}};if(me.includes(t)){const i=o,a=e.getCenter(),l=e.getZoom(),d=e.getHeading()||0,f=e.getTilt()||0,u=e.getBounds();return(!a||!u||!Number.isFinite(l))&&console.warn("[createEvent] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),i.detail={center:(a==null?void 0:a.toJSON())||{lat:0,lng:0},zoom:l||0,heading:d,tilt:f,bounds:(u==null?void 0:u.toJSON())||{north:90,east:180,south:-90,west:-180}},i}else if(ge.includes(t)){var r;if(!n)throw new Error("[createEvent] mouse events must provide a srcEvent");const i=o;return i.domEvent=n.domEvent,i.stoppable=!0,i.stop=()=>n.stop(),i.detail={latLng:((r=n.latLng)==null?void 0:r.toJSON())||null,placeId:n.placeId},i}return o}const $={onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onContextmenu:"contextmenu",onDblclick:"dblclick",onDrag:"drag",onDragend:"dragend",onDragstart:"dragstart",onHeadingChanged:"heading_changed",onIdle:"idle",onIsFractionalZoomEnabledChanged:"isfractionalzoomenabled_changed",onMapCapabilitiesChanged:"mapcapabilities_changed",onMapTypeIdChanged:"maptypeid_changed",onMousemove:"mousemove",onMouseout:"mouseout",onMouseover:"mouseover",onProjectionChanged:"projection_changed",onRenderingTypeChanged:"renderingtype_changed",onTilesLoaded:"tilesloaded",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed",onCameraChanged:"bounds_changed"},me=["bounds_changed","center_changed","heading_changed","tilt_changed","zoom_changed"],ge=["click","contextmenu","dblclick","mousemove","mouseout","mouseover"],pe=Object.keys($);function V(t,e){const n=s.useRef(void 0);(!n.current||!ne(e,n.current))&&(n.current=e),s.useEffect(t,n.current)}const he=new Set(["backgroundColor","clickableIcons","controlSize","disableDefaultUI","disableDoubleClickZoom","draggable","draggableCursor","draggingCursor","fullscreenControl","fullscreenControlOptions","gestureHandling","headingInteractionEnabled","isFractionalZoomEnabled","keyboardShortcuts","mapTypeControl","mapTypeControlOptions","mapTypeId","maxZoom","minZoom","noClear","panControl","panControlOptions","restriction","rotateControl","rotateControlOptions","scaleControl","scaleControlOptions","scrollwheel","streetView","streetViewControl","streetViewControlOptions","styles","tiltInteractionEnabled","zoomControl","zoomControlOptions"]);function Ee(t,e){const n={},o=Object.keys(e);for(const r of o)he.has(r)&&(n[r]=e[r]);V(()=>{t&&t.setOptions(n)},[n])}function J(){var t;return((t=s.useContext(x))==null?void 0:t.status)||S.NOT_LOADED}function Ce(t,e){const{viewport:n,viewState:o}=e,r=!!n;return s.useLayoutEffect(()=>{if(!t||!o)return;const{latitude:i,longitude:a,bearing:l,pitch:d,zoom:f}=o;t.moveCamera({center:{lat:i,lng:a},heading:l,tilt:d,zoom:f+1})},[t,o]),r}function ve(t){return!t||typeof t!="object"||!("lat"in t&&"lng"in t)?!1:Number.isFinite(t.lat)&&Number.isFinite(t.lng)}function je(t,e){if(!t||!e)return!1;const n=z(t),o=z(e);return!(n.lat!==o.lat||n.lng!==o.lng)}function z(t){return ve(t)?t:t.toJSON()}function Oe(t,e,n){const o=n.center?z(n.center):null;let r=null,i=null;o&&Number.isFinite(o.lat)&&Number.isFinite(o.lng)&&(r=o.lat,i=o.lng);const a=Number.isFinite(n.zoom)?n.zoom:null,l=Number.isFinite(n.heading)?n.heading:null,d=Number.isFinite(n.tilt)?n.tilt:null;s.useLayoutEffect(()=>{if(!t)return;const f={};let u=!1;r!==null&&i!==null&&(e.current.center.lat!==r||e.current.center.lng!==i)&&(f.center={lat:r,lng:i},u=!0),a!==null&&e.current.zoom!==a&&(f.zoom=a,u=!0),l!==null&&e.current.heading!==l&&(f.heading=l,u=!0),d!==null&&e.current.tilt!==d&&(f.tilt=d,u=!0),u&&t.moveCamera(f)})}const Te=()=>{const t={position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:999,display:"flex",flexFlow:"column nowrap",textAlign:"center",justifyContent:"center",fontSize:".8rem",color:"rgba(0,0,0,0.6)",background:"#dddddd",padding:"1rem 1.5rem"};return v.createElement("div",{style:t},v.createElement("h2",null,"Error: AuthFailure"),v.createElement("p",null,"A problem with your API key prevents the map from rendering correctly. Please make sure the value of the ",v.createElement("code",null,"APIProvider.apiKey")," prop is correct. Check the error-message in the console for further details."))};function Le(){const[t,e]=s.useState(null),n=s.useCallback(o=>e(o),[e]);return[t,n]}function q(){return J()===S.LOADED}function _e(){const[,t]=s.useReducer(e=>e+1,0);return t}function Ie(t,e){const n=t.getCenter(),o=t.getZoom(),r=t.getHeading()||0,i=t.getTilt()||0,a=t.getBounds();(!n||!a||!Number.isFinite(o))&&console.warn("[useTrackedCameraState] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),Object.assign(e.current,{center:(n==null?void 0:n.toJSON())||{lat:0,lng:0},zoom:o||0,heading:r,tilt:i})}function ye(t){const e=_e(),n=s.useRef({center:{lat:0,lng:0},heading:0,tilt:0,zoom:0});return s.useEffect(()=>{if(!t)return;const o=google.maps.event.addListener(t,"bounds_changed",()=>{Ie(t,n),e()});return()=>o.remove()},[t,e]),n}const be=["id","defaultBounds","defaultCenter","defaultZoom","defaultHeading","defaultTilt","reuseMaps","renderingType","colorScheme"],Me=["padding"];class B{static has(e){return this.entries[e]&&this.entries[e].length>0}static pop(e){return this.entries[e]&&this.entries[e].pop()||null}static push(e,n){this.entries[e]||(this.entries[e]=[]),this.entries[e].push(n)}}B.entries={};function Ne(t,e){const n=q(),[o,r]=s.useState(null),[i,a]=Le(),l=ye(o),{id:d,defaultBounds:f,defaultCenter:u,defaultZoom:h,defaultHeading:m,defaultTilt:p,reuseMaps:c,renderingType:g,colorScheme:I}=t,E=R(t,be),O=t.zoom!==void 0||t.defaultZoom!==void 0,L=t.center!==void 0||t.defaultCenter!==void 0;!f&&(!O||!L)&&console.warn("<Map> component is missing configuration. You have to provide zoom and center (via the `zoom`/`defaultZoom` and `center`/`defaultCenter` props) or specify the region to show using `defaultBounds`. See https://visgl.github.io/react-google-maps/docs/api-reference/components/map#required"),!E.center&&u&&(E.center=u),!E.zoom&&Number.isFinite(h)&&(E.zoom=h),!E.heading&&Number.isFinite(m)&&(E.heading=m),!E.tilt&&Number.isFinite(p)&&(E.tilt=p);for(const C of Object.keys(E))E[C]===void 0&&delete E[C];const y=s.useRef();return s.useEffect(()=>{if(!i||!n)return;const{addMapInstance:C,removeMapInstance:T}=e,{mapId:b}=t,N=`${b||"default"}:${g||"default"}:${I||"LIGHT"}`;let w,_;if(c&&B.has(N)?(_=B.pop(N),w=_.getDiv(),i.appendChild(w),_.setOptions(E),setTimeout(()=>_.setCenter(_.getCenter()),0)):(w=document.createElement("div"),w.style.height="100%",i.appendChild(w),_=new google.maps.Map(w,M({},E,g?{renderingType:g}:{},I?{colorScheme:I}:{}))),r(_),C(_,d),f){const{padding:A}=f,G=R(f,Me);_.fitBounds(G,A)}else(!O||!L)&&_.fitBounds({east:180,west:-180,south:-90,north:90});if(y.current){const{mapId:A,cameraState:G}=y.current;A!==b&&_.setOptions(G)}return()=>{y.current={mapId:b,cameraState:l.current},w.remove(),c?B.push(N,_):google.maps.event.clearInstanceListeners(_),r(null),T(d)}},[i,n,d,t.mapId,t.renderingType,t.colorScheme]),[o,a,l]}const Y=v.createContext(null),Ze={DARK:"DARK",LIGHT:"LIGHT",FOLLOW_SYSTEM:"FOLLOW_SYSTEM"},We={VECTOR:"VECTOR",RASTER:"RASTER",UNINITIALIZED:"UNINITIALIZED"},we=t=>{const{children:e,id:n,className:o,style:r}=t,i=s.useContext(x),a=J();if(!i)throw new Error("<Map> can only be used inside an <ApiProvider> component.");const[l,d,f]=Ne(t,i);Oe(l,f,t),de(l,t),Ee(l,t);const u=Ce(l,t),h=!!t.controlled;s.useEffect(()=>{if(l)return u&&l.setOptions({disableDefaultUI:!0}),(u||h)&&l.setOptions({gestureHandling:"none",keyboardShortcuts:!1}),()=>{l.setOptions({gestureHandling:t.gestureHandling,keyboardShortcuts:t.keyboardShortcuts})}},[l,u,h,t.gestureHandling,t.keyboardShortcuts]);const m=t.center?z(t.center):null;let p=null,c=null;m&&Number.isFinite(m.lat)&&Number.isFinite(m.lng)&&(p=m.lat,c=m.lng);const g=s.useMemo(()=>{var O,L,y,C,T;return{center:{lat:(O=p)!=null?O:0,lng:(L=c)!=null?L:0},zoom:(y=t.zoom)!=null?y:0,heading:(C=t.heading)!=null?C:0,tilt:(T=t.tilt)!=null?T:0}},[p,c,t.zoom,t.heading,t.tilt]);s.useLayoutEffect(()=>{if(!l||!h)return;l.moveCamera(g);const O=l.addListener("bounds_changed",()=>{l.moveCamera(g)});return()=>O.remove()},[l,h,g]);const I=s.useMemo(()=>M({width:"100%",height:"100%",position:"relative",zIndex:u?-1:0},r),[r,u]),E=s.useMemo(()=>({map:l}),[l]);return a===S.AUTH_FAILURE?v.createElement("div",{style:M({position:"relative"},o?{}:I),className:o},v.createElement(Te,null)):v.createElement("div",M({ref:d,"data-testid":"map",style:o?void 0:I,className:o},n?{id:n}:{}),l?v.createElement(Y.Provider,{value:E},e):null)};we.deckGLViewProps=!0;const K=new Set;function U(...t){const e=JSON.stringify(t);K.has(e)||(K.add(e),console.error(...t))}const H=(t=null)=>{const e=s.useContext(x),{map:n}=s.useContext(Y)||{};if(e===null)return U("useMap(): failed to retrieve APIProviderContext. Make sure that the <APIProvider> component exists and that the component you are calling `useMap()` from is a sibling of the <APIProvider>."),null;const{mapInstances:o}=e;return t!==null?o[t]||null:n||o.default||null};function Q(t){const e=q(),n=s.useContext(x);return s.useEffect(()=>{!e||!n||n.importLibrary(t)},[e,n,t]),(n==null?void 0:n.loadedLibraries[t])||null}function P(t,e,n){s.useEffect(()=>{if(!t||!e||!n)return;const o=google.maps.event.addListener(t,e,n);return()=>o.remove()},[t,e,n])}function F(t,e,n){s.useEffect(()=>{t&&(t[e]=n)},[t,e,n])}function j(t,e,n){s.useEffect(()=>{if(!(!t||!e||!n))return t.addEventListener(e,n),()=>t.removeEventListener(e,n)},[t,e,n])}function Se(t){return t.content!==void 0}function Re(t){return t.nodeType===Node.ELEMENT_NODE}const $e={REQUIRED:"REQUIRED",REQUIRED_AND_HIDES_OPTIONAL:"REQUIRED_AND_HIDES_OPTIONAL",OPTIONAL_AND_HIDES_LOWER_PRIORITY:"OPTIONAL_AND_HIDES_LOWER_PRIORITY"},X=v.createContext(null),Ae={TOP_LEFT:["0%","0%"],TOP_CENTER:["50%","0%"],TOP:["50%","0%"],TOP_RIGHT:["100%","0%"],LEFT_CENTER:["0%","50%"],LEFT_TOP:["0%","0%"],LEFT:["0%","50%"],LEFT_BOTTOM:["0%","100%"],RIGHT_TOP:["100%","0%"],RIGHT:["100%","50%"],RIGHT_CENTER:["100%","50%"],RIGHT_BOTTOM:["100%","100%"],BOTTOM_LEFT:["0%","100%"],BOTTOM_CENTER:["50%","100%"],BOTTOM:["50%","100%"],BOTTOM_RIGHT:["100%","100%"],CENTER:["50%","50%"]},Pe=({children:t,styles:e,className:n,anchorPoint:o})=>{const[r,i]=o??Ae.BOTTOM,a=`translate(50%, 100%) translate(-${r}, -${i})`;return v.createElement("div",{style:{transform:a}},v.createElement("div",{className:n,style:e},t))};function ke(t){const[e,n]=s.useState(null),[o,r]=s.useState(null),i=H(),a=Q("marker"),{children:l,onClick:d,className:f,onMouseEnter:u,onMouseLeave:h,onDrag:m,onDragStart:p,onDragEnd:c,collisionBehavior:g,clickable:I,draggable:E,position:O,title:L,zIndex:y}=t,C=s.Children.count(l);return s.useEffect(()=>{if(!i||!a)return;const T=new a.AdvancedMarkerElement;T.map=i,n(T);let b=null;return C>0&&(b=document.createElement("div"),b.isCustomMarker=!0,T.content=b,r(b)),()=>{var N;T.map=null,(N=b)==null||N.remove(),n(null),r(null)}},[i,a,C]),s.useEffect(()=>{!e||!e.content||C>0||(e.content.className=f||"")},[e,f,C]),F(e,"position",O),F(e,"title",L??""),F(e,"zIndex",y),F(e,"collisionBehavior",g),s.useEffect(()=>{e&&(E!==void 0?e.gmpDraggable=E:m||p||c?e.gmpDraggable=!0:e.gmpDraggable=!1)},[e,E,m,c,p]),s.useEffect(()=>{if(!e)return;const T=I!==void 0||!!d||!!u||!!h;e.gmpClickable=T,T&&e!=null&&e.content&&Re(e.content)&&(e.content.style.pointerEvents="none",e.content.firstElementChild&&(e.content.firstElementChild.style.pointerEvents="all"))},[e,I,d,u,h]),P(e,"click",d),P(e,"drag",m),P(e,"dragstart",p),P(e,"dragend",c),j(e==null?void 0:e.element,"mouseenter",u),j(e==null?void 0:e.element,"mouseleave",h),[e,o]}const Ve=s.forwardRef((t,e)=>{const{children:n,style:o,className:r,anchorPoint:i}=t,[a,l]=ke(t),d=s.useMemo(()=>a?{marker:a}:null,[a]);return s.useImperativeHandle(e,()=>a,[a]),l?v.createElement(X.Provider,{value:d},k.createPortal(v.createElement(Pe,{anchorPoint:i,styles:o,className:r},n),l)):null});function Je(){const[t,e]=s.useState(null);return[s.useCallback(o=>{e(o)},[]),t]}function De(t,e,n){if(e!=null&&typeof e!="object")throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");const o=t.style;if(n==null){if(e==null)return;for(const r in e)e.hasOwnProperty(r)&&Z(o,r,e[r]);return}for(const r in n)n.hasOwnProperty(r)&&(e==null||!e.hasOwnProperty(r))&&(r.indexOf("--")===0?o.setProperty(r,""):r==="float"?o.cssFloat="":o[r]="");if(e!=null)for(const r in e){const i=e[r];e.hasOwnProperty(r)&&n[r]!==i&&Z(o,r,i)}}function Z(t,e,n){const o=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?o?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":o?t.setProperty(e,n):typeof n=="number"&&n!==0&&!Fe(e)?t[e]=n+"px":e==="float"?t.cssFloat=n:t[e]=(""+n).trim()}const xe=new Set(["animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","scale","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth"]);function Fe(t){return xe.has(t)}const Be=["children","headerContent","style","className","pixelOffset","anchor","shouldFocus","onClose","onCloseClick"],qe=t=>{const{children:e,headerContent:n,style:o,className:r,pixelOffset:i,anchor:a,shouldFocus:l,onClose:d,onCloseClick:f}=t,u=R(t,Be),h=Q("maps"),[m,p]=s.useState(null),c=s.useRef(null),g=s.useRef(null);s.useEffect(()=>{if(!h)return;c.current=document.createElement("div"),g.current=document.createElement("div");const O=u;i&&(O.pixelOffset=new google.maps.Size(i[0],i[1])),n&&(O.headerContent=typeof n=="string"?n:g.current);const L=new google.maps.InfoWindow(u);return L.setContent(c.current),p(L),()=>{var y,C;L.setContent(null),(y=c.current)==null||y.remove(),(C=g.current)==null||C.remove(),c.current=null,g.current=null,p(null)}},[h]);const I=s.useRef(null);s.useEffect(()=>{!m||!c.current||(De(c.current,o||null,I.current),I.current=o||null,r!==c.current.className&&(c.current.className=r||""))},[m,r,o]),V(()=>{if(!m)return;const O=u;i?O.pixelOffset=new google.maps.Size(i[0],i[1]):O.pixelOffset=null,n?O.headerContent=typeof n=="string"?n:g.current:O.headerContent=null,m.setOptions(u)},[u,i,n]),P(m,"close",d),P(m,"closeclick",f);const E=H();return s.useEffect(()=>{if(!E||!m||a===null)return;const O=!!a,L={map:E};if(a&&(L.anchor=a,Se(a)&&a.content instanceof Element)){const C=a.content,T=C==null?void 0:C.getBoundingClientRect();if(T&&C!=null&&C.isCustomMarker){var y;const b=(y=a.content.firstElementChild)==null?void 0:y.firstElementChild,N=b==null?void 0:b.getBoundingClientRect(),w=N.x-T.x+(N.width-T.width)/2,_=N.y-T.y,A=u;A.pixelOffset=new google.maps.Size(i?i[0]+w:w,i?i[1]+_:_),m.setOptions(A)}}return l!==void 0&&(L.shouldFocus=l),m.open(L),()=>{O&&m.set("anchor",null),m.close()}},[m,a,E,l,u,i]),v.createElement(v.Fragment,null,c.current&&k.createPortal(e,c.current),g.current!==null&&k.createPortal(n,g.current))},Ye={TOP_LEFT:1,TOP_CENTER:2,TOP:2,TOP_RIGHT:3,LEFT_CENTER:4,LEFT_TOP:5,LEFT:5,LEFT_BOTTOM:6,RIGHT_TOP:7,RIGHT:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM:11,BOTTOM_RIGHT:12,CENTER:13,BLOCK_START_INLINE_START:14,BLOCK_START_INLINE_CENTER:15,BLOCK_START_INLINE_END:16,INLINE_START_BLOCK_CENTER:17,INLINE_START_BLOCK_START:18,INLINE_START_BLOCK_END:19,INLINE_END_BLOCK_START:20,INLINE_END_BLOCK_CENTER:21,INLINE_END_BLOCK_END:22,BLOCK_END_INLINE_START:23,BLOCK_END_INLINE_CENTER:24,BLOCK_END_INLINE_END:25},Qe=({children:t,position:e})=>{const n=s.useMemo(()=>document.createElement("div"),[]),o=H();return s.useEffect(()=>{if(!o)return;const r=o.controls[e];return r.push(n),()=>{const i=r.getArray();if(!i)return;const a=i.indexOf(n);r.removeAt(a)}},[n,o,e]),k.createPortal(t,n)},ze=["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut"];function He(t){const[e,n]=s.useState(null),o=H(),{onClick:r,onDrag:i,onDragStart:a,onDragEnd:l,onMouseOver:d,onMouseOut:f}=t,u=R(t,ze),{position:h,draggable:m}=u;return s.useEffect(()=>{if(!o){o===void 0&&console.error("<Marker> has to be inside a Map component.");return}const p=new google.maps.Marker(u);return p.setMap(o),n(p),()=>{p.setMap(null),n(null)}},[o]),s.useEffect(()=>{if(!e)return;const p=e,c=google.maps.event;return r&&c.addListener(p,"click",r),i&&c.addListener(p,"drag",i),a&&c.addListener(p,"dragstart",a),l&&c.addListener(p,"dragend",l),d&&c.addListener(p,"mouseover",d),f&&c.addListener(p,"mouseout",f),e.setDraggable(!!m),()=>{c.clearInstanceListeners(p)}},[e,m,r,i,a,l,d,f]),s.useEffect(()=>{e&&u&&e.setOptions(u)},[e,u]),s.useEffect(()=>{m||!h||!e||e.setPosition(h)},[m,h,e]),e}const Xe=s.forwardRef((t,e)=>{const n=He(t);return s.useImperativeHandle(e,()=>n,[n]),v.createElement(v.Fragment,null)});function et(){const[t,e]=s.useState(null);return[s.useCallback(o=>{e(o)},[]),t]}const tt=t=>{var e;const n=(e=s.useContext(X))==null?void 0:e.marker,o=s.useMemo(()=>document.createElement("div"),[]);return s.useEffect(()=>{var r;if(!n){n===void 0&&console.error("The <Pin> component can only be used inside <AdvancedMarker>.");return}t.glyph&&t.children&&U("The <Pin> component only uses children to render the glyph if both the glyph property and children are present."),s.Children.count(t.children)>1&&U("Passing multiple children to the <Pin> component might lead to unexpected results.");const i=M({},t),a=new google.maps.marker.PinElement(i);t.children&&(a.glyph=o);const l=(r=n.content)==null||(r=r.firstChild)==null?void 0:r.firstChild;for(;l!=null&&l.firstChild;)l.removeChild(l.firstChild);l&&l.appendChild(a.element)},[n,o,t]),k.createPortal(t.children,o)},W=(t,e,n,o,r)=>o+(t-e)*(r-o)/(n-e),Ge=t=>t<=10?30:t>=15.5?67.5:t<=14?W(t,10,14,30,45):W(t,14,15.5,45,67.5),nt=({viewState:t})=>{const e=t.pitch,n=t.zoom+1,o=Ge(n);return M({},t,{fovy:25,pitch:Math.min(o,e)})};export{S as APILoadingStatus,Ke as APIProvider,x as APIProviderContext,Ve as AdvancedMarker,Ae as AdvancedMarkerAnchorPoint,X as AdvancedMarkerContext,$e as CollisionBehavior,Ze as ColorScheme,Ye as ControlPosition,Y as GoogleMapsContext,qe as InfoWindow,we as Map,Qe as MapControl,Xe as Marker,tt as Pin,We as RenderingType,Se as isAdvancedMarker,ve as isLatLngLiteral,je as latLngEquals,nt as limitTiltRange,z as toLatLngLiteral,Je as useAdvancedMarkerRef,q as useApiIsLoaded,J as useApiLoadingStatus,H as useMap,Q as useMapsLibrary,et as useMarkerRef};
